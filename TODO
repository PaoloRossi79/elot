TODO:

0) creazione lotteria: blocca a 5 immagini: STOP -> in attersa

2) Blocco Youtube -> sospeso
    metterlo anche nella pagina di edit x lotterie già salvate
http://apiblog.youtube.com/2012/02/video-uploads-from-your-sites-community.html
SOSPESO!!!

1) Lot-box: per numeri troppo grandi -> tagliare (non mostrare cifre troppo grande)

3) aggiungere pagina dove lasciare Feedback al Venditore: solo vinctiore? consideriamo come parametro anche il numero di lotterie annullate

4) Pagina ADMIN gestione utenti: 
    a) dove inserire che è "Venditore Garantito"
    b) dove assegnare promozioni speciali

3) Regala biglietto 
    a) ad email -> link OK
    b) a followers -> OK
    d) funzione di check post registrazione per riscossione biglietto regalo

4) Vincitore lotteria: chiedere se concede uso suoi dati nel post "vincitori" -> in sospeso ... usare cmq i dati

4) Promozioni speciali:
    a) promozione per vincitore che da consenso
    b) in Creazione lotteria: usa offerte speciali (1 pagina, vedi...sito->regolamento->009)

5) Newsletter: 
    b) funzione di invio
    c) possibilità di annuncio sponsorizzato, con commissione più alta


8) Sharer via Facebook, G+, TW

    FB:
        FB.ui({
            method: 'share',
            href: 'https://developers.facebook.com/docs/dialogs/',
          }, function(response){});
        
    G+:
        <a href='https://plus.google.com/share?url={{shareUrl}}' onclick='javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;'><img src='https://www.gstatic.com/images/icons/gplus-16.png' alt='Share on Google+'/></a>
        
    TW: <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://wonlot.com/twitter" data-text="Test 1" data-via="paolorossi79" data-lang="it" data-size="large" data-count="none" data-hashtags="wonlot">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

!!!!!!!!!!!!!!!!!!!--------------------------------!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!--------------------------------!!!!!!!!!!!!!!!!!!!!!!!!!!!
DONE

1) Bottone codice per link esterno -> OK

2) Annullamento lotteria (fino a 24 H prima dell'estrazione)

    b) mail di comunicazione a OWNER e PATECIPANTI (biglietti già acquistati) -> scelto di fare NOTIFICA
    c) notifica (generica) a partecipanti -> OK, DONE

4) PROFILO: visualizzazione sconti disponibili -> OK!

1) Notifiche: icona + dropdown + pagina -> OK (manca layout pagina)

2) Blocco dati fatturazione -> OK

1) RICERCA : MANCA: ricerca x località -> DONE!

1) Home-page: lottery box -> x utenti Guest non mostrare il link che rimanda alla pagina utente -> DONE!
    a) pagina utente visible solo ad utenti registrati -> DONE!

1) RICERCA 
    a) MAIN PAGE: categoria OK (test ulteriori)
                data (1 sola...estrazioni solo quel giorno)
                geo: distanza rispetto alla località inserita
    b) LOT INDEX: categoria OK (test ulteriori)
                data (2 ... range)
                geo: distanza rispetto alla località inserita
                ticket price: intervallo (slider o 2 campi) OK
                buy price: intervallo (slider o 2 campi) OK
                keyword: free text da usare in ricerca
    c) TICKET INDEX (MANCA)
                categoria lotteria
                keyword: free text da usare in ricerca
                data acquisto (2 ... range)
    MANCA: ricerca x località
           ricerca ticket

2) BUY TICKET: 
    check per uso sconto in abbinato al check su credito residuo sufficente OK
    box x scelta uso sconto nella modal di acquisto OK
    calcolo del costo con sconto OK
    tracciatura uso sconto OK
    calcolo soglia lotteria con sconti
    aggiungere check di status lotteria alla fine dell'acquisto
    calcolo soglia lotteria con sconti OK
    aggiungere check di status lotteria alla fine dell'acquisto OK

3) Estrazione lotteria
    a) calcolo random del vincitore
    b) tracciatura del biglietto vincente
    c) mail a vincitore (o a tutti i concorrenti)

3) PROFILO: visualizzazione sconti disponibili
   
2) registrazione e login via facebook, twitter, g+ (OK FB)
3) cambio stato delle lotterie
4) aggiungere check x biglietti rimanenti

5) Newsletter: 
    a) gestire pagina di selezione delle NL OK
    b) funzione di invio
    c) possibilità di annuncio sponsorizzato, con commissione più alta

6) ANNULLAMENTO Lotteria:
    a) fino a 24 H prima dell'estrazione

8) Sharer via Facebook, G+, TW

9) gestione "amicizia" interna, per regalo biglietti:
    a) following stile twitter
    b) quando compri un biglietto lo puoi regalare a:   
        1) email
        2) social networks (FB, G+, ... )
        3) utenti WL following
        4) utenti WL followers
    c) ricerca amici: In ATTESA!!!
        1) per username
        2) per area geografica


2) aggiungere filtro ricerca per lotterie preferite -> OK
2) aggiungere filtro ricerca per "Venditore garantito" -> OK
2) aggiungere filtro ricerca per Feedback Venditore -> OK

YOUTUBE:

<!--<iframe id="widget" type="text/html" width="640" height="390" src="https://www.youtube.com/upload_embed" frameborder="0"></iframe>-->
    <!-- 1. The 'widget' div element will contain the upload widget.
         The 'player' div element will contain the player IFrame. -->
    <div id="widget"></div>
    <div id="player"></div>

    <script>
      // 2. Asynchronously load the Upload Widget and Player API code.
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. Define global variables for the widget and the player.
      //    The function loads the widget after the JavaScript code
      //    has downloaded and defines event handlers for callback
      //    notifications related to the widget.
      var widget;
      var player;
      function onYouTubeIframeAPIReady() {
        widget = new YT.UploadWidget('widget', {
          width: 500,
          webcamOnly: false,
          events: {
            'onUploadSuccess': onUploadSuccess,
            'onProcessingComplete': onProcessingComplete
          }
        });
      }

      // 4. This function is called when a video has been successfully uploaded.
      function onUploadSuccess(event) {
        alert('Video ID ' + event.data.videoId + ' was uploaded and is currently being processed.');
      }

      // 5. This function is called when a video has been successfully
      //    processed.
      function onProcessingComplete(event) {
        player = new YT.Player('player', {
          height: 390,
          width: 640,
          videoId: event.data.videoId,
          events: {}
        });
      }
    </script>


SNIPPETS

<?php echo Yii::t('wonlot',''); ?>

Yii::t('wonlot','')
